# Netlify configuration
#
# IMPORTANT: This app needs a Node.js backend (Express, ytdl-core, ffmpeg, yt-dlp)
# for downloads. Netlify only serves static files and serverless functions with
# strict time limits (10â€“26s), so it cannot run the full backend.
#
# Best option: Deploy the full app to Render (see render.yaml). Render runs the
# Node server and build.sh installs yt-dlp.
#
# If you use Netlify anyway (frontend only), you must host the backend elsewhere
# (e.g. Render) and set the API base in the frontend (e.g. via build env).

[build]
  publish = "."
  command = "npm run build:css"

# SPA-style: serve index.html for routes that don't match a file (e.g. /some-path)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[build.environment]
  NODE_VERSION = "20"
